<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Pocket Garden - Ëä±ÁõÜÁîªÂªä</title>
    <style>
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }

      body,
      html {
        height: 100%;
        font-family: "Arial Rounded MT Bold", "Segoe UI", sans-serif;
        background: linear-gradient(135deg, #e0f7fa 0%, #bbdefb 100%);
        overflow-x: hidden;
        color: #2d5aa6;
      }

      h1 {
        text-align: center;
        margin: 25px 0;
        font-size: 3.2rem;
        text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);
        letter-spacing: 2px;
        font-weight: 800;
      }

      #toggle-sidebar {
        position: fixed;
        top: 20px;
        right: 20px;
        width: 50px;
        height: 50px;
        cursor: pointer;
        z-index: 999;
        display: flex;
        align-items: center;
        justify-content: center;
        background: #4db6ac;
        border-radius: 50%;
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
        transition: all 0.3s ease;
      }

      #toggle-sidebar:hover {
        background: #26a69a;
        transform: rotate(15deg);
      }

      .menu-icon {
        font-size: 28px;
        user-select: none;
        color: white;
      }

      #sidebar {
        position: fixed;
        top: 0;
        right: 0;
        width: 280px;
        height: 100vh;
        background: linear-gradient(to bottom, #a5d6a7, #80cbc4);
        box-shadow: -2px 0 15px rgba(0, 0, 0, 0.15);
        transform: translateX(100%);
        transition: transform 0.4s cubic-bezier(0.25, 0.46, 0.45, 0.94);
        z-index: 998;
        padding-top: 20px;
        border-left: 4px solid #4db6ac;
      }

      #sidebar.open {
        transform: translateX(0);
      }

      .sidebar-content {
        margin-top: 60px;
        display: flex;
        flex-direction: column;
        align-items: center;
        padding: 0 20px;
        gap: 30px;
      }

      .icon-item {
        display: flex;
        flex-direction: column;
        align-items: center;
        cursor: pointer;
        transition: transform 0.2s;
        width: 100%;
        padding: 15px;
        border-radius: 12px;
        background: rgba(255, 255, 255, 0.7);
        box-shadow: 0 4px 10px rgba(0, 0, 0, 0.08);
      }

      .icon-item span {
        margin-top: 10px;
        font-size: 18px;
        color: #2e7d32;
        font-weight: 600;
      }

      .icon-item:hover {
        transform: translateY(-5px);
        background: rgba(255, 255, 255, 0.85);
      }

      .seed-section {
        width: 100%;
        display: flex;
        flex-direction: column;
        align-items: center;
        margin-top: 10px;
      }

      .seed-btn {
        background: linear-gradient(to right, #43a047, #66bb6a);
        color: white;
        border: none;
        padding: 12px 20px;
        font-size: 18px;
        border-radius: 30px;
        cursor: pointer;
        width: 100%;
        text-align: center;
        font-weight: bold;
        letter-spacing: 1px;
        box-shadow: 0 4px 8px rgba(0, 0, 0, 0.15);
        transition: all 0.3s;
      }

      .seed-btn:hover {
        transform: translateY(-3px);
        box-shadow: 0 6px 12px rgba(0, 0, 0, 0.2);
      }

      .seed-dropdown {
        display: none;
        width: 100%;
        margin-top: 15px;
        background: rgba(255, 255, 255, 0.9);
        border-radius: 12px;
        padding: 15px;
        box-sizing: border-box;
        z-index: 1000;
        grid-template-columns: repeat(3, 1fr);
        grid-gap: 15px;
        box-shadow: 0 8px 20px rgba(0, 0, 0, 0.12);
        border: 2px solid #e8f5e9;
      }

      .seed-icon {
        display: flex;
        flex-direction: column;
        align-items: center;
        cursor: grab;
        transition: all 0.3s ease;
        width: 100%;
        aspect-ratio: 1;
        background-color: white;
        border-radius: 10px;
        justify-content: center;
        overflow: hidden;
        box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
        border: 2px solid #c8e6c9;
      }

      .seed-icon img {
        max-width: 90%;
        max-height: 90%;
        object-fit: contain;
        transition: transform 0.3s;
      }

      .seed-icon:hover {
        transform: scale(1.05);
        box-shadow: 0 6px 12px rgba(0, 0, 0, 0.15);
        border-color: #81c784;
      }

      .seed-icon:hover img {
        transform: scale(1.1);
      }

      .seed-icon:active {
        cursor: grabbing;
      }

      /* Ê®™ÂêëÊªëÂä®Ëä±ÁõÜÂÆπÂô® */
      .gallery-container {
        position: relative;
        width: 90%;
        max-width: 1200px;
        height: 600px;
        margin: 50px auto;
        border-radius: 20px;
        overflow: visible;
        display: flex;
        flex-direction: column;
        align-items: center;
      }

      .pots-scroll-container {
        position: relative;
        width: 100%;
        height: 100%;
        overflow-x: auto;
        overflow-y: hidden;
        scroll-behavior: smooth;
        scrollbar-width: thin;
        scrollbar-color: #4db6ac #e0f7fa;
        padding: 20px 0;
      }

      .pots-scroll-container::-webkit-scrollbar {
        height: 12px;
      }

      .pots-scroll-container::-webkit-scrollbar-track {
        background: #e0f7fa;
        border-radius: 10px;
      }

      .pots-scroll-container::-webkit-scrollbar-thumb {
        background: #4db6ac;
        border-radius: 10px;
      }

      .pots-scroll-container::-webkit-scrollbar-thumb:hover {
        background: #26a69a;
      }

      .pots-wrapper {
        position: relative;
        height: 500px;
        min-width: 2000px;
        display: flex;
        align-items: flex-end;
        justify-content: center;
      }

      .pot-item {
        position: relative;
        text-align: center;
        cursor: pointer;
        transition: all 0.3s ease;
        transform-origin: bottom center;
        flex-shrink: 0;
        margin: 0 40px;
      }

      .pot-item img {
        width: 100%;
        height: auto;
        display: block;
        filter: drop-shadow(0 10px 15px rgba(0, 0, 0, 0.2));
      }

      .plant-video {
        position: absolute;
        bottom: 0;
        left: 50%;
        transform: translateX(-50%);
        width: 120%;
        height: auto;
        pointer-events: none;
        z-index: 20;
        opacity: 0;
        animation: grow-up 1.5s ease-out forwards;
      }

      @keyframes grow-up {
        0% {
          opacity: 0;
          transform: translateX(-50%) scale(0.2);
          bottom: 0;
        }
        100% {
          opacity: 1;
          transform: translateX(-50%) scale(1);
          bottom: 100%;
        }
      }

      .final-frame {
        position: absolute;
        bottom: 100%;
        left: 50%;
        transform: translateX(-50%);
        width: 120%;
        height: auto;
        pointer-events: none;
        z-index: 15;
        opacity: 1;
      }

      .scroll-controls {
        display: flex;
        gap: 15px;
        margin-top: 20px;
      }

      .scroll-btn {
        background: #4db6ac;
        color: white;
        border: none;
        width: 50px;
        height: 50px;
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        cursor: pointer;
        font-size: 20px;
        box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
        transition: all 0.3s;
      }

      .scroll-btn:hover {
        background: #26a69a;
        transform: scale(1.1);
      }

      .seed-preview {
        position: absolute;
        width: 60px;
        height: 60px;
        border-radius: 10px;
        overflow: hidden;
        box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
        z-index: 9999;
        pointer-events: none;
      }

      .seed-preview img {
        width: 100%;
        height: 100%;
        object-fit: cover;
      }

      .growing-text {
        position: absolute;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        font-size: 24px;
        color: #2e7d32;
        font-weight: bold;
        text-shadow: 0 0 8px rgba(255, 255, 255, 0.8);
        opacity: 0;
        z-index: 30;
        animation: text-pop 1s ease-out forwards;
      }

      @keyframes text-pop {
        0% {
          opacity: 0;
          transform: translate(-50%, -30%);
        }
        50% {
          opacity: 1;
        }
        100% {
          opacity: 0;
          transform: translate(-50%, -70%);
        }
      }

      .scroll-hint {
        position: absolute;
        bottom: 20px;
        left: 50%;
        transform: translateX(-50%);
        font-size: 16px;
        color: #2d5aa6;
        background: rgba(255, 255, 255, 0.8);
        padding: 8px 20px;
        border-radius: 30px;
        box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
        animation: pulse 2s infinite;
      }

      @keyframes pulse {
        0% {
          opacity: 0.7;
        }
        50% {
          opacity: 1;
        }
        100% {
          opacity: 0.7;
        }
      }

      .pot-info {
        position: absolute;
        bottom: -30px;
        left: 50%;
        transform: translateX(-50%);
        font-size: 14px;
        color: #2d5aa6;
        background: rgba(255, 255, 255, 0.7);
        padding: 4px 10px;
        border-radius: 10px;
        white-space: nowrap;
      }
    </style>
  </head>
  <body>
    <h1>My Pots</h1>

    <div id="toggle-sidebar">
      <span class="menu-icon">‚ò∞</span>
    </div>

    <div id="sidebar">
      <div class="sidebar-content">
        <div class="icon-item">
          <span>Water</span>
        </div>
        <div class="seed-section">
          <button id="seed-toggle-btn" class="seed-btn">üå± Seeds</button>
          <div id="seed-dropdown" class="seed-dropdown">
            <div class="seed-icon" draggable="true" data-mp4="p1.mp4">
              <img
                src="https://via.placeholder.com/100/81C784/FFFFFF?text=Seed+1"
                alt="ÁßçÂ≠ê1"
              />
            </div>
            <div class="seed-icon" draggable="true" data-mp4="p2.mp4">
              <img
                src="https://via.placeholder.com/100/4CAF50/FFFFFF?text=Seed+2"
                alt="ÁßçÂ≠ê2"
              />
            </div>
            <div class="seed-icon" draggable="true" data-mp4="p3.mp4">
              <img
                src="https://via.placeholder.com/100/388E3C/FFFFFF?text=Seed+3"
                alt="ÁßçÂ≠ê3"
              />
            </div>
            <div class="seed-icon" draggable="true" data-mp4="p4.mp4">
              <img
                src="https://via.placeholder.com/100/2E7D32/FFFFFF?text=Seed+4"
                alt="ÁßçÂ≠ê4"
              />
            </div>
            <div class="seed-icon" draggable="true" data-mp4="p5.mp4">
              <img
                src="https://via.placeholder.com/100/1B5E20/FFFFFF?text=Seed+5"
                alt="ÁßçÂ≠ê5"
              />
            </div>
            <div class="seed-icon" draggable="true" data-mp4="p6.mp4">
              <img
                src="https://via.placeholder.com/100/8BC34A/FFFFFF?text=Seed+6"
                alt="ÁßçÂ≠ê6"
              />
            </div>
            <div class="seed-icon" draggable="true" data-mp4="p7.mp4">
              <img
                src="https://via.placeholder.com/100/689F38/FFFFFF?text=Seed+7"
                alt="ÁßçÂ≠ê7"
              />
            </div>
            <div class="seed-icon" draggable="true" data-mp4="p8.mp4">
              <img
                src="https://via.placeholder.com/100/33691E/FFFFFF?text=Seed+8"
                alt="ÁßçÂ≠ê8"
              />
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Ê®™ÂêëÊªëÂä®Ëä±ÁõÜÂå∫Âüü -->
    <div class="gallery-container">
      <div class="pots-scroll-container" id="potsScroll">
        <div class="pots-wrapper">
          <!-- Ëä±ÁõÜ1 -->
          <div class="pot-item" style="width: 180px; z-index: 1">
            <img src="Pot 1.PNG" alt="Pot 1" />
            <div class="pot-info">Pot 1</div>
          </div>
          <!-- Ëä±ÁõÜ2 -->
          <!-- <div class="pot-item" style="width: 160px; z-index: 3">
            <img src="Pot 2.PNG" alt="Pot 2" />
            <div class="pot-info">Pot 2</div>
          </div> -->
          <!-- Ëä±ÁõÜ3 -->
          <div class="pot-item" style="width: 200px; z-index: 5">
            <img src="Pot 3.PNG" alt="Pot 3" />
            <div class="pot-info">Pot 3</div>
          </div>
          <!-- Ëä±ÁõÜ4 -->
          <div class="pot-item" style="width: 260px; z-index: 2">
            <img src="Pot 4.PNG" alt="Pot 4" />
            <div class="pot-info">Pot 4</div>
          </div>
          <!-- Ëä±ÁõÜ5 -->
          <div class="pot-item" style="width: 70px; z-index: 4">
            <img src="Pot 5.PNG" alt="Pot 5" />
            <div class="pot-info">Pot 5</div>
          </div>
          <!-- Ëä±ÁõÜ6 -->
          <div class="pot-item" style="width: 220px; z-index: 6">
            <img src="Pot 6.PNG" alt="Pot 6" />
            <div class="pot-info">Pot 6</div>
          </div>
          <!-- Êõ¥Â§öËä±ÁõÜ‰ΩçÁΩÆ -->
          <div class="pot-item" style="width: 180px; z-index: 1">
            <img
              src="https://via.placeholder.com/180/4DB6AC/FFFFFF?text=Pot+7"
              alt="Pot 7"
            />
            <div class="pot-info">Pot 7</div>
          </div>
          <div class="pot-item" style="width: 160px; z-index: 3">
            <img
              src="https://via.placeholder.com/160/009688/FFFFFF?text=Pot+8"
              alt="Pot 8"
            />
            <div class="pot-info">Pot 8</div>
          </div>
          <div class="pot-item" style="width: 200px; z-index: 5">
            <img
              src="https://via.placeholder.com/200/00796B/FFFFFF?text=Pot+9"
              alt="Pot 9"
            />
            <div class="pot-info">Pot 9</div>
          </div>
        </div>
        <div class="scroll-hint">‚Üê Â∑¶Âè≥ÊªëÂä®Êü•ÁúãÊõ¥Â§öËä±ÁõÜ ‚Üí</div>
      </div>

      <div class="scroll-controls">
        <button class="scroll-btn" id="scrollLeftBtn">‚Üê</button>
        <button class="scroll-btn" id="scrollRightBtn">‚Üí</button>
      </div>
    </div>

    <script>
      document.addEventListener("DOMContentLoaded", () => {
        // ‰æßËæπÊ†èÂàáÊç¢ÈÄªËæë
        const toggleSidebarBtn = document.getElementById("toggle-sidebar");
        const sidebar = document.getElementById("sidebar");

        toggleSidebarBtn.addEventListener("click", (e) => {
          e.stopPropagation();
          sidebar.classList.toggle("open");
        });

        // ÁÇπÂáªÁ©∫ÁôΩÂ§ÑÊó∂ÈöêËóè‰æßËæπÊ†è
        document.addEventListener("click", (e) => {
          if (
            !sidebar.contains(e.target) &&
            !toggleSidebarBtn.contains(e.target)
          ) {
            sidebar.classList.remove("open");
          }
        });

        // ÁßçÂ≠êËèúÂçïÂàáÊç¢ÈÄªËæë
        const seedToggleBtn = document.getElementById("seed-toggle-btn");
        const seedDropdown = document.getElementById("seed-dropdown");

        seedToggleBtn.addEventListener("click", (e) => {
          e.stopPropagation();
          seedDropdown.style.display =
            seedDropdown.style.display === "grid" ? "none" : "grid";
        });

        // ÁÇπÂáªÂÖ∂‰ªñÂú∞ÊñπÊó∂ÈöêËóèÁßçÂ≠êËèúÂçï
        document.addEventListener("click", (e) => {
          if (
            !seedToggleBtn.contains(e.target) &&
            !seedDropdown.contains(e.target)
          ) {
            seedDropdown.style.display = "none";
          }
        });

        // ÊãñÊãΩÁßçÂ≠êÂà∞Ëä±ÁõÜÈÄªËæë
        const seedIcons = document.querySelectorAll(".seed-icon");
        const potItems = document.querySelectorAll(".pot-item");

        // ÁßçÂ≠êÂõæÊ†áÂêØÂä®ÊãñÊãΩ
        seedIcons.forEach((icon) => {
          icon.addEventListener("dragstart", (e) => {
            const mp4Url = icon.getAttribute("data-mp4");
            e.dataTransfer.setData("text/plain", mp4Url);

            // ÂàõÂª∫ÊãñÊãΩÈ¢ÑËßàÂõæ
            const preview = document.createElement("div");
            preview.className = "seed-preview";

            const img = document.createElement("img");
            img.src = icon.querySelector("img").src;

            preview.appendChild(img);
            document.body.appendChild(preview);
            e.dataTransfer.setDragImage(preview, 30, 30);

            setTimeout(() => {
              document.body.removeChild(preview);
            }, 0);
          });
        });

        // Âú®ÊØè‰∏™Ëä±ÁõÜ‰∏äÂ§ÑÁêÜÊãñÊîæ
        potItems.forEach((pot) => {
          pot.addEventListener("dragover", (e) => {
            e.preventDefault();
            pot.style.transform = "scale(1.05)";
          });

          pot.addEventListener("dragleave", () => {
            pot.style.transform = "";
          });

          pot.addEventListener("drop", (e) => {
            e.preventDefault();
            pot.style.transform = "";

            const mp4Url = e.dataTransfer.getData("text/plain");
            if (!mp4Url) return;

            // ÁßªÈô§Â∑≤ÊúâÁöÑËßÜÈ¢ëÂíåÂÆöÊ†ºÂõæÂÉè
            const existingVideo = pot.querySelector(".plant-video");
            if (existingVideo) existingVideo.remove();

            const existingFrame = pot.querySelector(".final-frame");
            if (existingFrame) existingFrame.remove();

            // ÂàõÂª∫"ÁîüÈïø‰∏≠"ÊñáÊú¨ÊïàÊûú
            const growingText = document.createElement("div");
            growingText.className = "growing-text";
            growingText.textContent = "üå± Growing...";
            pot.appendChild(growingText);

            // 3ÁßíÂêéÁßªÈô§ÊñáÊú¨
            setTimeout(() => {
              growingText.remove();
            }, 3000);

            // ÂàõÂª∫ËßÜÈ¢ëÂÖÉÁ¥†
            const video = document.createElement("video");
            video.src = mp4Url;
            video.className = "plant-video";
            video.autoplay = true;
            video.muted = true;
            video.loop = false;
            video.playsInline = true;

            // ËßÜÈ¢ëÁªìÊùüÂêéÊöÇÂÅúÂú®ÊúÄÂêé‰∏ÄÂ∏ß
            video.addEventListener("ended", function () {
              // ÂàõÂª∫ÂÆöÊ†ºÂõæÂÉè
              const canvas = document.createElement("canvas");
              const ctx = canvas.getContext("2d");
              canvas.width = video.videoWidth;
              canvas.height = video.videoHeight;
              ctx.drawImage(video, 0, 0, canvas.width, canvas.height);

              const finalFrame = document.createElement("img");
              finalFrame.className = "final-frame";
              finalFrame.src = canvas.toDataURL();

              // Ê∑ªÂä†Âà∞Ëä±ÁõÜÂπ∂ÁßªÈô§ËßÜÈ¢ë
              pot.appendChild(finalFrame);
              video.remove();
            });

            // Ê∑ªÂä†Âà∞Ëä±ÁõÜ
            pot.appendChild(video);
          });
        });

        // ÊªöÂä®ÊéßÂà∂ÈÄªËæë
        const potsScroll = document.getElementById("potsScroll");
        const scrollLeftBtn = document.getElementById("scrollLeftBtn");
        const scrollRightBtn = document.getElementById("scrollRightBtn");

        scrollLeftBtn.addEventListener("click", () => {
          potsScroll.scrollBy({ left: -300, behavior: "smooth" });
        });

        scrollRightBtn.addEventListener("click", () => {
          potsScroll.scrollBy({ left: 300, behavior: "smooth" });
        });

        // Èº†Ê†áÊªöËΩÆÊ®™ÂêëÊªöÂä®
        potsScroll.addEventListener("wheel", (e) => {
          e.preventDefault();
          potsScroll.scrollLeft += e.deltaY;
        });

        // Ê∑ªÂä†ÈîÆÁõòÂ∑¶Âè≥ÈîÆÊªöÂä®
        document.addEventListener("keydown", (e) => {
          if (e.key === "ArrowLeft") {
            potsScroll.scrollBy({ left: -100, behavior: "smooth" });
          } else if (e.key === "ArrowRight") {
            potsScroll.scrollBy({ left: 100, behavior: "smooth" });
          }
        });
      });
    </script>
  </body>
</html>
